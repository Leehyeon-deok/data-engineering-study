# 📌 SQLD 핵심 오답 개념 정리 (시험 대비 총정리)

## ✅ 1. INSERT INTO … SELECT 문

### ✔ 개념

한 테이블의 데이터를 조건에 맞게 다른 테이블에 삽입할 때 사용한다.

```sql
INSERT INTO EMP_TEMP
SELECT * FROM EMP
WHERE DEPTNO = 10;
```

### ✔ 핵심 조건

* 두 테이블의 **컬럼 개수, 자료형, 순서가 동일해야 한다.**
* 여러 행을 한 번에 삽입 가능하다.
* 서브쿼리는 VALUES 절에 직접 사용할 수 없다.

### ✔ 시험 포인트

* VALUES 안에는 단일 행만 가능
* 다중 행 → 반드시 SELECT 사용

---

## ✅ 2. ROUND 함수

### ✔ 개념

지정한 자리까지 반올림한다.

```sql
SELECT ROUND(78.34, 1) FROM DUAL;
```

결과 → 78.3

### ✔ 규칙

* 두 번째 인자 = 반올림할 자리수
* 생략하면 정수로 반올림

---

## ✅ 3. 데이터 모델링 단계

### ✔ 개념 모델링에서 수행

* 엔터티 식별
* 속성 도출
* 관계 설정

### ✔ 수행하지 않는 것

* 인덱스 설계 (물리 모델링 단계)

### ✔ 시험 핵심

👉 **개념 = 논리적 구조**
👉 **물리 = 성능, 저장, 인덱스**

---

## ✅ 4. 윈도우 함수 vs GROUP BY

### ✔ GROUP BY

* 행 수 감소
* 집계 결과만 출력

### ✔ 윈도우 함수

* 행 수 유지
* 각 행에 계산 결과 추가

### ✔ 핵심 특징

* PARTITION BY → 그룹처럼 나누지만 행 유지
* ORDER BY → 순서 지정
* WINDOWING → ORDER BY 필수

---

## ✅ 5. 인덱스를 못 쓰는 경우

### ✔ 인덱스 사용 불가 조건

* 컬럼에 함수 적용
* 연산 수행
* 가공된 조건

예:

```sql
NVL(컬럼, 0)
TO_CHAR(날짜컬럼)
컬럼 || 문자열
```

### ✔ 인덱스 사용 가능

* 컬럼이 가공되지 않은 경우

예:

```sql
컬럼 = TO_CHAR(SYSDATE, 'YYYY')
```

👉 함수가 컬럼이 아닌 값에 적용되면 인덱스 사용 가능.

---

## ✅ 6. 관계 연산자

### ✔ 순수 관계 연산

* SELECT
* PROJECT
* JOIN
* DIVIDE

### ✔ 집합 연산

* UNION
* INTERSECT
* MINUS

---

## ✅ 7. SQL 처리 흐름도

### ✔ 의미

* 실행 계획 시각화
* 성능 분석 가능
* 인덱스 여부 표현 가능

👉 성능 요소 포함됨.

---

## ✅ 8. 분산 데이터베이스 특징

### ✔ 장점

* 지역 자치성
* 확장성
* 빠른 응답
* 통신 비용 감소

### ✔ 단점

* 관리 복잡
* 처리 비용 증가
* 오류 가능성 증가

---

## ✅ 9. NTILE 함수

### ✔ 개념

데이터를 N등분한다.

```sql
NTILE(4) OVER (ORDER BY SAL DESC)
```

결과 값 범위:
👉 1 ~ N

### ✔ 특징

* 순위가 아니라 그룹 번호
* 동일한 개수로 나누는 목적

---

## ✅ 10. 순위 함수 비교

| 함수         | 특징          |
| ---------- | ----------- |
| RANK       | 공동 순위 후 건너뜀 |
| DENSE_RANK | 공동 순위 후 연속  |
| ROW_NUMBER | 항상 고유       |

👉 고유 값 필요 → ROW_NUMBER

---

## ✅ 11. 분산 DB 투명성

### ✔ 위치 투명성

* 데이터 위치 몰라도 됨

### ✔ 지역 사상

* 물리 DB와 매핑

---

## ✅ 12. ERD 관계 구성 요소

* Membership
* Optionality
* Cardinality

👉 Attribute는 엔터티 구성.

---

## ✅ 13. REGEXP_SUBSTR

### ✔ 개념

정규식으로 문자열 추출

```sql
REGEXP_SUBSTR('abc123@domain.com', '[a-z]+', 1, 2)
```

결과 → domain

---

## ✅ 14. ROWNUM

### ✔ 특징

* 행이 조회되는 순서대로 부여
* 조건 직접 사용 제한

잘못된 예:

```sql
WHERE ROWNUM = 2
```

✔ 해결:

```sql
SELECT *
FROM (
  SELECT ROWNUM AS RN, ENAME
  FROM EMP
)
WHERE RN = 2;
```

---

## ✅ 15. FULL OUTER JOIN

### ✔ 특징

* 양쪽 모두 포함
* Oracle (+) 기호로 구현 불가

---

## ✅ 16. 인덱스 LIKE 검색

### ✔ 인덱스 사용 가능

```sql
LIKE '홍%'
```

### ✔ 인덱스 사용 불가

```sql
LIKE '%홍%'
```

👉 앞에 % 있으면 Full Scan.

---

## 🚀 SQLD 시험 핵심 요약

🔥 함수가 컬럼에 적용되면 인덱스 사용 불가
🔥 윈도우 함수는 행 수 유지
🔥 물리 모델링 = 인덱스
🔥 ROW_NUMBER = 고유 순위
🔥 LIKE 앞 % → 인덱스 사용 불가
🔥 INSERT SELECT → 다중 행

---

## 🎯 한 줄 정리

👉 SQLD는 문법보다 **개념 + 성능 + 인덱스 이해가 핵심**이다.
