# 네트워크 기초 정리

## 1. 네트워크 규모에 따른 분류
- LAN (Local Area Network): 가정, 사무실, 학교 등 개인 또는 소규모 공간
- MAN (Metropolitan Area Network): 도시 단위 규모 (예: 서울시)
- WAN (Wide Area Network): 국가·대륙·전 세계 규모 (인터넷)

---

## 2. 네트워크 성능 분석 개요
애플리케이션 코드에는 문제가 없지만 사용자가 데이터를 가져오지 못하는 경우 네트워크 병목 현상을 의심해야 한다.

### 병목 현상의 주요 원인
- 네트워크 대역폭 부족
- 비효율적인 네트워크 토폴로지
- 서버 CPU 및 메모리 사용량 과다
- 비효율적인 네트워크 구성
- 패킷 손실 및 지연

---

## 3. 네트워크 성능 분석 명령어

### ping
- ICMP 프로토콜을 이용하여 대상 노드에 패킷을 전송
- 연결 여부, 왕복 시간(RTT), 패킷 손실 확인 가능
- ICMP 차단 장비 또는 보안 정책이 있는 경우 사용 불가

### netstat
- 시스템의 네트워크 상태 확인
- 열린 포트, 활성 연결, 라우팅 테이블, 프로토콜 정보 확인
- 서비스 포트가 정상적으로 열려 있는지 확인할 때 사용

### nslookup
- DNS 관련 정보 확인
- 특정 도메인에 매핑된 IP 주소 조회

### tracert / traceroute
- 목적지 노드까지의 네트워크 경로 추적
- Windows: tracert / Linux, macOS: traceroute
- 지연이 발생하는 구간 확인 가능

---

## 4. 네트워크 프로토콜 표준화
- 서로 다른 장치 간 데이터 통신을 위해 정의된 공통 규칙
- 주요 예시
  - IEEE 802.3: 유선 LAN(Ethernet)
  - HTTP: 웹 통신 프로토콜

---

## 5. TCP/IP 4계층 모델 (OSI 7계층 대응)

### 애플리케이션 계층
- 사용자에게 직접 서비스 제공
- 주요 프로토콜: HTTP, FTP, SMTP, DNS, SSH

### 전송 계층
- 송신자와 수신자 간 통신 서비스 제공
- 신뢰성, 흐름 제어, 오류 제어 담당

#### TCP
- 연결 지향 프로토콜
- 신뢰성 보장, 순서 보장, 재전송 지원
- 가상 회선 패킷 교환 방식 사용

#### UDP
- 비연결 지향 프로토콜
- 순서 및 수신 여부 보장하지 않음
- 데이터그램 패킷 교환 방식 사용

---

## 6. TCP 연결 과정

### 3-Way Handshake (연결 설정)
1. SYN
2. SYN + ACK
3. ACK

### 4-Way Handshake (연결 종료)
1. 클라이언트가 FIN 전송
2. 서버가 ACK 전송 (클라이언트 FIN_WAIT_2 상태)
3. 서버가 FIN 전송
4. 클라이언트가 ACK 전송 후 TIME_WAIT 상태 진입
5. 일정 시간 후 연결 종료

### TIME_WAIT 상태의 목적
- 지연 패킷으로 인한 데이터 무결성 문제 방지
- 서버가 LAST_ACK 상태에서 오류 발생하는 것 방지

---

## 7. 인터넷 계층
- IP 주소를 기반으로 패킷을 목적지까지 전달
- 경로 설정 기능 수행
- 대표 프로토콜: IP

---

## 8. 링크 계층
- 실제 물리적 전송 담당
- 프레임 단위로 데이터 전달
- MAC 주소 사용

---

## 9. 유선 LAN

### 전이중 통신 (Full Duplex)
- 송신과 수신을 동시에 수행 가능
- 현대 고속 이더넷의 기본 방식

### CSMA/CD
- 반이중 통신 방식
- 충돌 발생 시 감지 후 재전송
- 현재는 거의 사용되지 않음

---

## 10. 유선 LAN 케이블 종류

### 트위스트 페어 케이블
- 구리선을 두 가닥씩 꼬아 만든 케이블
- 전자기 간섭 감소 효과

### 광섬유 케이블
- 빛 반사를 이용한 데이터 전송
- 고속·장거리 통신 가능

---

## 11. 무선 LAN
- 송신과 수신에 동일한 채널 사용
- 반이중 통신 방식
- 동시에 송·수신 불가

### CSMA/CA
- 충돌 방지 방식
- 전송 전 채널 상태 감지

---

## 12. 무선 LAN 구조

### BSS (Basic Service Set)
- AP와 무선 단말로 구성
- 동일 BSS 내 단말 간 통신 가능

### ESS (Extended Service Set)
- 하나 이상의 BSS를 연결한 구조
- 대규모 무선 네트워크 구성 가능

---

## 13. 이더넷 프레임
- 데이터 캡슐화 수행
- 에러 검출 기능 포함

---

## 14. 캡슐화와 비캡슐화

### 캡슐화 과정
- 상위 계층 데이터에 하위 계층 헤더를 추가
- 흐름: 메시지 → 세그먼트/데이터그램 → 패킷 → 프레임

### 비캡슐화 과정
- 수신 측에서 헤더를 제거
- 최종적으로 애플리케이션 메시지 전달

---

## 15. PDU (Protocol Data Unit)

- 애플리케이션 계층: 메시지
- 전송 계층: 세그먼트(TCP), 데이터그램(UDP)
- 인터넷 계층: 패킷
- 링크 계층: 프레임
- 물리 계층: 비트
