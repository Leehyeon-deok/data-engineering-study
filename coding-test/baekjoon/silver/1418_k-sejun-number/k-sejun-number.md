# K-세준수(K-Sejun Number) 문제 핵심 정리

## 문제 정의

* 어떤 자연수의 **소인수 중 최댓값이 K 이하**이면 그 수를 **K-세준수**라고 한다.
* **1부터 N까지**의 자연수 중 **K-세준수의 개수**를 구한다.
* 조건: `N ≤ 100,000`, `K ≤ 100`

---

## 핵심 아이디어 요약

1. **에라토스테네스의 체 응용**으로 각 수의 **가장 작은 소인수(SPF)**를 미리 구한다.
2. 각 수를 **SPF로 소인수분해**하며 **K보다 큰 소인수가 하나라도 나오면 탈락**.
3. 끝까지 통과하면 K-세준수로 카운트.

---

## 왜 소수 판별식을 안 써도 되는가?

* `spf[i] == 0` 이라는 조건은 **i가 이전 단계에서 어떤 수의 배수로도 표시되지 않았음**을 의미.
* 체는 **작은 수부터 배수를 표시**하므로,

  * 합성수는 반드시 먼저 표시됨
  * 끝까지 표시되지 않은 수는 **소수**

> **결론:** 체에서는 *표시되지 않은 수 = 소수*

---

## 약수 vs 배수 (중요 개념)

* **약수(divisor)**: 어떤 수를 **나누는 수** (예: 3은 12의 약수)
* **배수(multiple)**: 어떤 수에 정수를 곱해 얻는 수 (예: 12는 3의 배수)

### 체에서 배수를 쓰는 이유

* 약수를 직접 찾으면 느림 (나눗셈 필요)
* 배수를 찍으면 빠르게 합성수 제거 가능

---

## SPF (Smallest Prime Factor) 배열

* `spf[x] = x의 가장 작은 소인수`
* 체 방식으로 한 번만 채우면 **빠른 소인수분해 가능**

### SPF 생성 코드

```python
spf = [0] * (N + 1)
for i in range(2, N + 1):
    if spf[i] == 0:              # i는 소수
        for j in range(i, N + 1, i):
            if spf[j] == 0:      # 처음 방문한 배수만 기록
                spf[j] = i
```

---

## 소인수분해 핵심 한 줄

```python
x //= spf[x]
```

* 의미: **가장 작은 소인수 하나를 제거**
* 목적: 소인수분해를 한 단계씩 진행

### 왜 `//` 인가?

* `/` : 실수 나눗셈 → float (인덱스로 사용 불가)
* `//`: 정수 나눗셈 → int 유지 (필수)

---

## K-세준수 판별 로직

```python
x = i
is_valid = True
while x > 1:
    if spf[x] > K:
        is_valid = False
        break
    x //= spf[x]
```

* 모든 소인수를 검사
* **K 초과 소인수 등장 시 즉시 탈락**

---

## 전체 코드 (완성본)

```python
N = int(input())
K = int(input())

# 1. SPF 배열 생성
spf = [0] * (N + 1)
for i in range(2, N + 1):
    if spf[i] == 0:
        for j in range(i, N + 1, i):
            if spf[j] == 0:
                spf[j] = i

# 2. K-세준수 개수 세기
count = 0
for i in range(1, N + 1):
    x = i
    is_valid = True
    while x > 1:
        if spf[x] > K:
            is_valid = False
            break
        x //= spf[x]
    if is_valid:
        count += 1

print(count)
```

---

## 시간 복잡도

* SPF 생성: **O(N log log N)**
* 전체 검사: **O(N log N)**
* 제한 내 충분히 통과

---

## 한 줄 요약 (시험/면접용)

> **SPF로 소인수분해하면서 K보다 큰 소인수가 하나라도 나오면 탈락**
